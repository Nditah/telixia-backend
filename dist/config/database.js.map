{"version":3,"sources":["../../src/config/database.js"],"names":["pool","mysql","createPool","credentials","getConnection","err","connection","code","console","error","release","query","util","promisify"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAMA,OAAOC,gBAAMC,UAAN,CAAiBC,qBAAjB,CAAb;;AAEAH,KAAKI,aAAL,CAAmB,UAACC,GAAD,EAAMC,UAAN,EAAqB;AACpC,QAAID,GAAJ,EAAS;AACL,YAAIA,IAAIE,IAAJ,KAAa,0BAAjB,EAA6C;AACzCC,oBAAQC,KAAR,CAAc,iCAAd;AACH;AACD,YAAIJ,IAAIE,IAAJ,KAAa,oBAAjB,EAAuC;AACnCC,oBAAQC,KAAR,CAAc,oCAAd;AACH;AACD,YAAIJ,IAAIE,IAAJ,KAAa,cAAjB,EAAiC;AAC7BC,oBAAQC,KAAR,CAAc,kCAAd;AACH;AACJ;AACD,QAAIH,UAAJ,EAAgBA,WAAWI,OAAX;AACnB,CAbD;;AAeA;AACAV,KAAKW,KAAL,GAAaC,eAAKC,SAAL,CAAeb,KAAKW,KAApB,CAAb;;kBAEeX,I","file":"database.js","sourcesContent":["import mysql from \"mysql\";\nimport util from \"util\";\nimport credentials from \"./credentials\";\n\n// Setup MySQL Connection  Pool\nconst pool = mysql.createPool(credentials);\n\npool.getConnection((err, connection) => {\n    if (err) {\n        if (err.code === \"PROTOCOL_CONNECTION_LOST\") {\n            console.error(\"Database connection was closed.\");\n        }\n        if (err.code === \"ER_CON_COUNT_ERROR\") {\n            console.error(\"Database has too many connections.\");\n        }\n        if (err.code === \"ECONNREFUSED\") {\n            console.error(\"Database connection was refused.\");\n        }\n    }\n    if (connection) connection.release();\n});\n\n// Promisify for Node.js async/await.\npool.query = util.promisify(pool.query);\n\nexport default pool;\n"]}