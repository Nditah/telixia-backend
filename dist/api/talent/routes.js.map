{"version":3,"sources":["../../../src/api/talent/routes.js"],"names":["router","express","Router","get","checkAuth","isValidAdmin","fetchRecord","post","createRecord","put","updateRecord","delete","deleteRecord","login"],"mappings":";;;;;;AAIA;;;;AACA;;AACA;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEA;;;;;;;;;;;;;;;;AAVA;;;;AA0BAF,OAAOG,GAAP,CAAW,UAAX,EAAuB,CAACC,wBAAD,EAAYC,2BAAZ,CAAvB,EAAkDC,uBAAlD;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCAN,OAAOO,IAAP,CAAY,UAAZ,EAAwBC,wBAAxB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCAR,OAAOS,GAAP,CAAW,oBAAX,EAAiC,CAACL,wBAAD,CAAjC,EAA8CM,wBAA9C;;AAEA;;;;;;;;;;AAUAV,OAAOW,MAAP,CAAc,oBAAd,EAAoC,CAACP,wBAAD,EAAYC,2BAAZ,CAApC,EAA+DO,wBAA/D;;AAEA;;;;;;;;;;;;AAYAZ,OAAOO,IAAP,CAAY,gBAAZ,EAA8BM,iBAA9B;;kBAEeb,M","file":"routes.js","sourcesContent":["/**\n * @author 4Decoder\n * @description Talent holds record of all talents with terminals\n */\nimport express from \"express\";\nimport { checkAuth, isValidAdmin } from \"../../middleware/authorization\";\nimport { fetchRecord, createRecord, updateRecord, deleteRecord, login } from \"./controller\";\n\nconst router = express.Router();\n\n/**\n * @api {get} /api/talents?id={recordId} Retrieve one or all records\n * @apiName RetrieveTalent\n * @apiGroup Talent\n * @apiExample {curl} Example usage for retieving a single record:\n *      curl -i http://localhost/api/talents?id=2&fields=id,created_at,updated_at\n * @apiExample {curl} Example usage for retieving multiple records:\n *      curl -i http://localhost/api/talents?offset=10&limit=50\n * @apiParam {Number} id Unique id of the record to retrieve (optional)\n * @apiParam {Number} offset Number of records to skip (optional)\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\n * @apiParam {String} fields Comma-separated list of record's attributes to retrieve (optional)\n * @apiDescription Records of consolidated list of talents from PMT, PML, PET, Shop etc\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/talents\", [checkAuth, isValidAdmin], fetchRecord);\n\n/**\n * @api {post} /api/talents Create talents\n * @apiName CreateTalent\n * @apiGroup Talent\n * @apiParam {String} access_token master access token.\n * @apiParam {Number} id Talent primaryKey\n * @apiParam {String} talent type \"INDIVIDUAL\", \"ORGANIZATION\"\n * @apiParam {String} title\n * @apiParam {String} surname Talent surname (required)\n * @apiParam {String} other_name Talent other name (required)\n * @apiParam {String} gender Talent gender (required)\n * @apiParam {Date} birth_date Talent date of birth\n * @apiParam {String} phone Talent phone number (required)\n * @apiParam {String} phone2 Talent mobile work or home phone number\n * @apiParam {String} email Talent email address\n * @apiParam {String} password Talent password for accessing the App\n * @apiParam {String} contact_person Talent next-of-kin, or contact person\n * @apiParam {String} contact_person_phone Talent next-of-kin, or contact person phone\n * @apiParam {String} product Talent products of services of interest\n * @apiParam {String} photo Talent photo url\n * @apiParam {String} address Talent residential or work address\n * @apiParam {String} country_iso2 Talent country of residence (required)\n * @apiParam {Boolean} is_pmt_talent assert that talent is also a PMT talent\n * @apiParam {Boolean} is_pesl_talent assert that talent is also a PESL talent\n * @apiParam {Boolean} is_pet_talent assert that talent is also a PET talent\n * @apiParam {Boolean} is_shop_talent assert that talent is also a SHOP talent\n * @apiParam {Boolean} is_tenant assert if talent is a depot tenant\n * @apiParam {Boolean} is_phone_verified phone verification status\n * @apiParam {Boolean} is_email_verified email verification status\n * @apiParam {String} remark comment about talent\n * @apiParam {Number} created_by (required) id of the staff who created the record\n * @apiParam {Number} updated_by id of the staff who created the record\n * @apiSuccess {Object} Talent Talent's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Talent not found.\n * @apiError 401 master access only.\n */\nrouter.post(\"/talents\", createRecord);\n\n/**\n * @api {put} /api/talents/{recordId} Update talents\n * @apiName UpdateTalent\n * @apiGroup Talent\n * @apiPermission master\n * @apiParam {String} access_token master access token.\n * @apiParam {String} access_token master access token.\n * @apiParam {Number} id Talent primaryKey\n * @apiParam {String} talent type \"INDIVIDUAL\", \"ORGANIZATION\"\n * @apiParam {String} title\n * @apiParam {String} surname Talent surname (required)\n * @apiParam {String} other_name Talent other name (required)\n * @apiParam {String} gender Talent gender (required)\n * @apiParam {Date} birth_date Talent date of birth\n * @apiParam {String} phone Talent phone number (required)\n * @apiParam {String} phone2 Talent mobile work or home phone number\n * @apiParam {String} email Talent email address\n * @apiParam {String} password Talent password for accessing the App\n * @apiParam {String} contact_person Talent next-of-kin, or contact person\n * @apiParam {String} contact_person_phone Talent next-of-kin, or contact person phone\n * @apiParam {String} product Talent products of services of interest\n * @apiParam {String} photo Talent photo url\n * @apiParam {String} address Talent residential or work address\n * @apiParam {String} country_iso2 Talent country of residence (required)\n * @apiParam {Boolean} is_pmt_talent assert that talent is also a PMT talent\n * @apiParam {Boolean} is_pesl_talent assert that talent is also a PESL talent\n * @apiParam {Boolean} is_pet_talent assert that talent is also a PET talent\n * @apiParam {Boolean} is_shop_talent assert that talent is also a SHOP talent\n * @apiParam {Boolean} is_tenant assert if talent is a depot tenant\n * @apiParam {Boolean} is_phone_verified phone verification status\n * @apiParam {Boolean} is_email_verified email verification status\n * @apiParam {String} remark comment about talent\n * @apiParam {Number} created_by (required) id of the staff who created the record\n * @apiParam {Number} updated_by id of the staff who created the record\n * @apiSuccess {Object} Talent Talent's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Talent not found.\n * @apiError 401 master access only.\n */\nrouter.put(\"/talents/:recordId\", [checkAuth], updateRecord);\n\n/**\n * @api {delete} /api/talents/{recordId} Delete talents\n * @apiName DeleteTalent\n * @apiGroup Talent\n * @apiPermission master\n * @apiParam {String} access_token master access token.\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Talent not found.\n * @apiError 401 master access only.\n */\nrouter.delete(\"/talents/:recordId\", [checkAuth, isValidAdmin], deleteRecord);\n\n/**\n * @api {post} /api/talents/login Login Talent\n * @apiName LoginTalent\n * @apiGroup Talent\n * @apiPermission master\n * @apiParam {String} email Talent email address (optional)\n * @apiParam {String} password Talent password (optional)\n * @apiParam {String} phone Talent mobile phone number (optional)\n * @apiParam {String} otp Talent One-Time-Password sent to phone (optional)\n * @apiSuccess (Success 200) 200 Login Successful.\n * @apiError 404 Talent not found.\n */\nrouter.post(\"/talents/login\", login);\n\nexport default router;\n"]}